<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tap Counter - Free Online Click Counter Tool</title>
  <meta name="description" content="Simple, free online tap counter. Count clicks and taps instantly on any device. Mobile-friendly, no ads, no sign-up required.">
  <meta name="keywords" content="tap counter, click counter, tally counter, online counter, count clicks, free counter tool">
  <meta name="author" content="Surendra Tamang">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://surendratamang.github.io/tap-counter/">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Tap Counter - Free Online Click Counter Tool">
  <meta property="og:description" content="Simple, free online tap counter. Count clicks and taps instantly on any device.">
  <meta property="og:url" content="https://surendratamang.github.io/tap-counter/">
  <meta property="og:site_name" content="Tap Counter">
  <meta property="og:image" content="https://surendratamang.github.io/tap-counter/og-image.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Tap Counter - Free Online Click Counter Tool">
  <meta name="twitter:description" content="Simple, free online tap counter. Count clicks and taps instantly on any device.">
  <meta name="twitter:image" content="https://surendratamang.github.io/tap-counter/og-image.png">

  <!-- Mobile / PWA -->
  <meta name="theme-color" content="#1a1a2e" id="themeColorMeta">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Tap Counter">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23e94560'/><text x='50' y='62' font-size='40' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>TAP</text></svg>">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Tap Counter",
    "description": "Simple, free online tap counter. Count clicks and taps instantly on any device.",
    "url": "https://surendratamang.github.io/tap-counter/",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "author": { "@type": "Person", "name": "Surendra Tamang" }
  }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-outer: #0f0f1a;
      --bg-card: #1a1a2e;
      --text: #ffffff;
      --text-muted: rgba(255, 255, 255, 0.5);
      --border: rgba(255, 255, 255, 0.2);
      --border-hover: rgba(255, 255, 255, 0.08);
      --accent: #e94560;
      --accent-glow: rgba(233, 69, 96, 0.4);
      --accent-glow-hover: rgba(233, 69, 96, 0.5);
      --ripple: rgba(233, 69, 96, 0.3);
      --stats-bg: rgba(255, 255, 255, 0.06);
      --history-bg: rgba(255, 255, 255, 0.04);
    }

    [data-theme="light"] {
      --bg-outer: #e8e8f0;
      --bg-card: #ffffff;
      --text: #1a1a2e;
      --text-muted: rgba(26, 26, 46, 0.5);
      --border: rgba(26, 26, 46, 0.15);
      --border-hover: rgba(26, 26, 46, 0.08);
      --accent: #e94560;
      --accent-glow: rgba(233, 69, 96, 0.3);
      --accent-glow-hover: rgba(233, 69, 96, 0.4);
      --ripple: rgba(233, 69, 96, 0.2);
      --stats-bg: rgba(26, 26, 46, 0.05);
      --history-bg: rgba(26, 26, 46, 0.03);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg-outer);
      color: var(--text);
      height: 100dvh;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      -webkit-user-select: none;
      overflow: hidden;
      transition: background 0.3s ease;
    }

    main {
      background: var(--bg-card);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      max-width: 480px;
      max-height: 850px;
      border-radius: 0;
      position: relative;
      overflow: hidden;
      transition: background 0.3s ease;
    }

    @media (min-width: 600px) {
      main {
        border-radius: 24px;
        height: 90vh;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      }
    }

    /* Top bar */
    .top-bar {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.2rem;
      z-index: 10;
    }

    .theme-btn, .history-btn, .share-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.3rem;
      cursor: pointer;
      padding: 0.4rem;
      border-radius: 8px;
      transition: color 0.2s, background 0.2s;
      -webkit-tap-highlight-color: transparent;
    }

    .theme-btn:hover, .history-btn:hover, .share-btn:hover {
      color: var(--text);
      background: var(--stats-bg);
    }

    .top-right {
      display: flex;
      gap: 0.3rem;
    }

    /* Stats */
    .stats {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .stat {
      text-align: center;
      background: var(--stats-bg);
      padding: 0.5rem 1rem;
      border-radius: 10px;
      min-width: 70px;
    }

    .stat-value {
      font-size: 1.2rem;
      font-weight: 700;
    }

    .stat-label {
      font-size: 0.65rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 2px;
    }

    /* Count */
    .count {
      font-size: 7rem;
      font-weight: 700;
      letter-spacing: -2px;
      margin-bottom: 1.5rem;
      transition: transform 0.1s ease;
      position: relative;
      z-index: 2;
    }

    .count.bump {
      transform: scale(1.15);
    }

    /* Buttons row */
    .btn-row {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .tap-btn {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: none;
      background: var(--accent);
      color: #fff;
      font-size: 1.4rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
      box-shadow: 0 8px 30px var(--accent-glow);
      -webkit-tap-highlight-color: transparent;
      position: relative;
      z-index: 2;
    }

    .tap-btn:hover {
      box-shadow: 0 12px 40px var(--accent-glow-hover);
    }

    .tap-btn:active {
      transform: scale(0.93);
      box-shadow: 0 4px 15px var(--accent-glow);
    }

    .minus-btn {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: 2px solid var(--border);
      background: none;
      color: var(--text-muted);
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      -webkit-tap-highlight-color: transparent;
      transition: border-color 0.2s, color 0.2s, background 0.2s;
    }

    .minus-btn:hover {
      border-color: var(--text-muted);
      color: var(--text);
      background: var(--stats-bg);
    }

    .minus-btn:active {
      transform: scale(0.93);
    }

    /* Keyboard hint */
    .kbd-hint {
      margin-top: 1.2rem;
      font-size: 0.7rem;
      color: var(--text-muted);
      opacity: 0.6;
      display: none;
    }

    @media (min-width: 600px) {
      .kbd-hint { display: block; }
    }

    /* Bottom bar */
    .bottom-bar {
      position: absolute;
      bottom: 1.5rem;
      display: flex;
      gap: 0.8rem;
      z-index: 10;
    }

    .reset-btn {
      background: none;
      border: 1px solid var(--border);
      color: var(--text-muted);
      padding: 0.5rem 1.5rem;
      border-radius: 8px;
      font-size: 0.9rem;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
      transition: background 0.15s ease, color 0.2s;
    }

    .reset-btn:hover {
      background: var(--border-hover);
      color: var(--text);
    }

    /* Ripple effect */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: var(--ripple);
      transform: scale(0);
      animation: ripple-anim 0.6s ease-out forwards;
      pointer-events: none;
      z-index: 1;
    }

    @keyframes ripple-anim {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }

    /* History panel */
    .history-panel {
      position: absolute;
      inset: 0;
      background: var(--bg-card);
      z-index: 20;
      display: flex;
      flex-direction: column;
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }

    .history-panel.open {
      transform: translateY(0);
    }

    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem;
      border-bottom: 1px solid var(--border);
    }

    .history-header h2 {
      font-size: 1.1rem;
      font-weight: 600;
    }

    .history-close {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.2rem 0.5rem;
    }

    .history-list {
      flex: 1;
      overflow-y: auto;
      padding: 0.8rem;
    }

    .history-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1rem;
      background: var(--history-bg);
      border-radius: 10px;
      margin-bottom: 0.5rem;
    }

    .history-count {
      font-size: 1.3rem;
      font-weight: 700;
    }

    .history-meta {
      text-align: right;
      color: var(--text-muted);
      font-size: 0.75rem;
    }

    .history-empty {
      text-align: center;
      color: var(--text-muted);
      padding: 3rem 1rem;
      font-size: 0.9rem;
    }

    .history-clear {
      margin: 0.8rem;
      padding: 0.6rem;
      background: none;
      border: 1px solid var(--border);
      color: var(--text-muted);
      border-radius: 8px;
      font-size: 0.85rem;
      cursor: pointer;
    }

    /* Toast */
    .toast {
      position: absolute;
      bottom: 5rem;
      background: var(--text);
      color: var(--bg-card);
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-size: 0.85rem;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.2s, transform 0.2s;
      z-index: 30;
      pointer-events: none;
    }

    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
  </style>
</head>
<body>
  <main id="mainCard">
    <h1 class="sr-only">Tap Counter - Free Online Click Counter</h1>

    <!-- Top bar -->
    <div class="top-bar">
      <button class="theme-btn" id="themeBtn" aria-label="Toggle theme">&#9790;</button>
      <div class="top-right">
        <button class="share-btn" id="shareBtn" aria-label="Share count">&#8599;</button>
        <button class="history-btn" id="historyBtn" aria-label="View history">&#9776;</button>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats">
      <div class="stat">
        <div class="stat-value" id="tps">0.0</div>
        <div class="stat-label">Taps/sec</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="best">0</div>
        <div class="stat-label">Best</div>
      </div>
    </div>

    <!-- Count -->
    <div class="count" id="count" role="status" aria-live="polite" aria-label="Current count">0</div>

    <!-- Buttons -->
    <div class="btn-row">
      <button class="minus-btn" id="minusBtn" aria-label="Decrease counter">&minus;</button>
      <button class="tap-btn" id="tapBtn" aria-label="Tap to increase counter">TAP</button>
    </div>

    <div class="kbd-hint">Press Space or Enter to tap</div>

    <!-- Bottom bar -->
    <div class="bottom-bar">
      <button class="reset-btn" id="resetBtn" aria-label="Reset counter to zero">Reset</button>
    </div>

    <!-- History panel -->
    <div class="history-panel" id="historyPanel">
      <div class="history-header">
        <h2>Session History</h2>
        <button class="history-close" id="historyClose">&times;</button>
      </div>
      <div class="history-list" id="historyList"></div>
      <button class="history-clear" id="historyClear">Clear History</button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>
  </main>

  <script>
    const $ = id => document.getElementById(id);
    const countEl = $('count');
    const tapBtn = $('tapBtn');
    const minusBtn = $('minusBtn');
    const resetBtn = $('resetBtn');
    const tpsEl = $('tps');
    const bestEl = $('best');
    const themeBtn = $('themeBtn');
    const shareBtn = $('shareBtn');
    const historyBtn = $('historyBtn');
    const historyPanel = $('historyPanel');
    const historyClose = $('historyClose');
    const historyList = $('historyList');
    const historyClear = $('historyClear');
    const toastEl = $('toast');
    const mainCard = $('mainCard');

    let count = 0;
    let tapTimes = [];
    let best = parseInt(localStorage.getItem('tapBest') || '0');
    let history = JSON.parse(localStorage.getItem('tapHistory') || '[]');
    let sessionStart = null;

    bestEl.textContent = best;

    // Sound
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playTap() {
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      osc.connect(gain);
      gain.connect(audioCtx.destination);
      osc.frequency.value = 800;
      osc.type = 'sine';
      gain.gain.setValueAtTime(0.15, audioCtx.currentTime);
      gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.08);
      osc.start();
      osc.stop(audioCtx.currentTime + 0.08);
    }

    // Haptic
    function vibrate() {
      if (navigator.vibrate) navigator.vibrate(15);
    }

    // Ripple
    function spawnRipple() {
      const r = document.createElement('div');
      r.className = 'ripple';
      const size = 150;
      r.style.width = r.style.height = size + 'px';
      r.style.left = (mainCard.offsetWidth / 2 - size / 2) + 'px';
      r.style.top = (mainCard.offsetHeight / 2 - size / 2) + 'px';
      mainCard.appendChild(r);
      r.addEventListener('animationend', () => r.remove());
    }

    // TPS calculation
    function updateTps() {
      const now = Date.now();
      tapTimes.push(now);
      tapTimes = tapTimes.filter(t => now - t < 3000);
      const tps = tapTimes.length > 1 ? (tapTimes.length / ((now - tapTimes[0]) / 1000)).toFixed(1) : '0.0';
      tpsEl.textContent = tps;
    }

    // Core tap
    function doTap() {
      if (audioCtx.state === 'suspended') audioCtx.resume();
      if (!sessionStart) sessionStart = new Date();
      count++;
      countEl.textContent = count;
      countEl.classList.add('bump');
      setTimeout(() => countEl.classList.remove('bump'), 100);

      playTap();
      vibrate();
      spawnRipple();
      updateTps();

      if (count > best) {
        best = count;
        bestEl.textContent = best;
        localStorage.setItem('tapBest', best);
      }
    }

    // Minus
    function doMinus() {
      if (count <= 0) return;
      count--;
      countEl.textContent = count;
      vibrate();
    }

    // Reset
    function doReset() {
      if (count > 0) {
        history.unshift({
          count,
          date: new Date().toISOString(),
          duration: sessionStart ? Math.round((Date.now() - sessionStart.getTime()) / 1000) : 0
        });
        if (history.length > 50) history = history.slice(0, 50);
        localStorage.setItem('tapHistory', JSON.stringify(history));
      }
      count = 0;
      tapTimes = [];
      sessionStart = null;
      countEl.textContent = '0';
      tpsEl.textContent = '0.0';
    }

    tapBtn.addEventListener('click', doTap);
    minusBtn.addEventListener('click', doMinus);
    resetBtn.addEventListener('click', doReset);

    // Keyboard
    document.addEventListener('keydown', (e) => {
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      if (e.code === 'Space' || e.code === 'Enter') {
        e.preventDefault();
        doTap();
        tapBtn.classList.add('active');
        tapBtn.style.transform = 'scale(0.93)';
        setTimeout(() => { tapBtn.style.transform = ''; }, 100);
      }
      if (e.code === 'Minus' || e.code === 'NumpadSubtract') {
        e.preventDefault();
        doMinus();
      }
      if (e.code === 'KeyR') {
        e.preventDefault();
        doReset();
      }
    });

    // Theme
    let theme = localStorage.getItem('tapTheme') || 'dark';
    applyTheme(theme);

    themeBtn.addEventListener('click', () => {
      theme = theme === 'dark' ? 'light' : 'dark';
      applyTheme(theme);
      localStorage.setItem('tapTheme', theme);
    });

    function applyTheme(t) {
      document.documentElement.setAttribute('data-theme', t);
      themeBtn.innerHTML = t === 'dark' ? '&#9790;' : '&#9728;';
      $('themeColorMeta').content = t === 'dark' ? '#1a1a2e' : '#ffffff';
    }

    // Share
    shareBtn.addEventListener('click', async () => {
      const text = `I tapped ${count} times! Can you beat it?\nhttps://surendratamang.github.io/tap-counter/`;
      if (navigator.share) {
        try { await navigator.share({ title: 'Tap Counter', text }); } catch {}
      } else {
        await navigator.clipboard.writeText(text);
        showToast('Copied to clipboard!');
      }
    });

    function showToast(msg) {
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      setTimeout(() => toastEl.classList.remove('show'), 2000);
    }

    // History
    historyBtn.addEventListener('click', () => {
      renderHistory();
      historyPanel.classList.add('open');
    });

    historyClose.addEventListener('click', () => historyPanel.classList.remove('open'));

    historyClear.addEventListener('click', () => {
      history = [];
      localStorage.removeItem('tapHistory');
      renderHistory();
    });

    function renderHistory() {
      if (history.length === 0) {
        historyList.innerHTML = '<div class="history-empty">No sessions yet. Tap away!</div>';
        return;
      }
      historyList.innerHTML = history.map(h => {
        const d = new Date(h.date);
        const time = d.toLocaleString(undefined, { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
        const dur = h.duration ? formatDuration(h.duration) : '';
        return `<div class="history-item">
          <div class="history-count">${h.count}</div>
          <div class="history-meta">${time}${dur ? '<br>' + dur : ''}</div>
        </div>`;
      }).join('');
    }

    function formatDuration(s) {
      if (s < 60) return s + 's';
      const m = Math.floor(s / 60);
      const sec = s % 60;
      return m + 'm ' + sec + 's';
    }

    // Decay TPS display when idle
    setInterval(() => {
      const now = Date.now();
      tapTimes = tapTimes.filter(t => now - t < 3000);
      if (tapTimes.length <= 1) tpsEl.textContent = '0.0';
      else tpsEl.textContent = (tapTimes.length / ((now - tapTimes[0]) / 1000)).toFixed(1);
    }, 300);
  </script>
</body>
</html>
